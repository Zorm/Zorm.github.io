<!DOCTYPE html>
<html>
<body>
<h1>Hello it's me</h1>
<p>I'm hosted with GitHub Pages.</p>

<div style="display:flex;flex-direction:row">
  <div id="info" style="padding:10px;border:1px solid black;width:460px;display:flex;flex-direction:column">
  	<p>  </p>
  </div>



  <canvas id="canvasOne" height="704" width="1000">
  </canvas>

  <div id= "Backpack" style="padding:10px;border:1px solid black;width:460px;display:flex;flex-direction:column">

  </div>
</div>

<!--
<script src="hepp.js">
</script>
-->

<script src="js.js">
</script>

<script src="map.js">
</script>

<script src="gestalter.js">
</script>

<script src="resourceMngr.js">
</script>


<script>
  var r = new resourceMngr();
  //r.loadResource("https://zorm.github.io/metaMap.json", function(world){
  r.loadResource("metaMap.json", function(world){
    var karta = world.maps[0];
    console.log('karta is...');
    console.dir(karta);
    var item = {x:7,y:5};
    var canvas = document.getElementById('canvasOne')
    var xylophone = new game(canvas);
    console.log('game is');
    console.dir(xylophone);
    var m = new map(karta, 64, xylophone, function(){
      console.log('map manager is');
      console.dir(m);
      var g = new gestalter(6, 6, "boss", m)
      xylophone.setPlayer(g);
      m.addItem(item);
      m.addGestalt(g);
      m.draw();
      m.drawStuff();
    });
    function frame() {
      m.draw();
      m.drawStuff();
	//Ottos kod
	//window.setTimeout(frame,0);
      requestAnimationFrame(frame); // request the next frame
    }
    requestAnimationFrame(frame); // start the first frame
  })

/*
  var b1 = document.getElementById('button1')
  var onButton1Click = function(e)
  {
    var info = document.getElementById('info')
    info.style.display = 'block';

  }
  b1.addEventListener('click', onButton1Click)


  var b2 = document.getElementById('button1')
  var onButton1Click = function(e)
  {
    var info = document.getElementById('info')
    info.style.display = 'block';

  }
  b2.addEventListener('click', onButton1Click)


  var b3 = document.getElementById('button1')
  var onButton1Click = function(e)
  {
    var info = document.getElementById('info')
    info.style.display = 'block';

  }
  b3.addEventListener('click', onButton1Click)


  var b4 = document.getElementById('button1')
  var onButton1Click = function(e)
  {
    var info = document.getElementById('info')
    info.style.display = 'block';

  }
  b4.addEventListener('click', onButton1Click)
  */
</script>


</body>
</html>
